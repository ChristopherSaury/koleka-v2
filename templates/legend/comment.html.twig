<div class="comment-display-container">
    {% if comments is defined %}
    {% for comment in comments %}
        {% if comment.parent is null %}
        <div class="comment">
            <div class="user"><p class="pseudo">{{ comment.getAuthor().getFirstname() }}  {{ comment.getAuthor().getLastname() }}</p><span class="time">publié le : {{comment.getPublishedAt()|date('d-m-Y')}}</span></div>
            <div class="userComment"><p>{{ comment.content }}</p></div>
            <p><a onclick="openReplyModal(this)" data-reply data-id="{{ comment.id }}">Répondre</a></p>
            <p><a onclick="retrieveComment(this)" data-update data-id="{{ comment.id }}">Modifier</a></p>
            <a onclick="deleteCom(this)" data-id="{{comment.id}}" >Supprimer</a>
            <div class="replies">
                {% if comment.replies is not null %}
                {% for reply in comment.replies %}
                <div class="comment">
                    <div class="user"><p class="pseudo">{{ reply.getAuthor().getFirstname() }}  {{ reply.getAuthor().getLastname() }}</p><span class="time">publié le : {{comment.getPublishedAt()|date('d-m-Y')}}</span></div>
                    <div class="userComment"><p>{{ reply.content }}</p></div>
                    <a onclick="deleteCom(this)" data-id="{{comment.id}}" >Supprimer</a>
                </div>
                {% endfor %}
                {% endif %}
            </div>
        </div>
           
        {% endif %}
    {% endfor %}
    {% endif %}
</div>